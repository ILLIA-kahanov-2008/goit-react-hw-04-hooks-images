(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{107:function(e,t,a){},108:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(5),o=a.n(r),i=(a(42),a(43),a(3)),s=a(6),l=a.n(s),u=a(1);var m=function(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(i.a)(a,2),r=c[0],o=c[1];return Object(u.jsx)("header",{className:l.a.SearchBar,children:Object(u.jsxs)("form",{className:l.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r,1),o("")):alert("Enter query before submit")},children:[Object(u.jsx)("button",{type:"submit",className:l.a.SearchFormBtn,children:Object(u.jsx)("span",{className:l.a.SearchFormBtnLabel,children:"Search"})}),Object(u.jsx)("input",{className:l.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,name:"query",onChange:function(e){var t=e.target,a=t.name,n=t.value;"query"===a&&o(n.trim())}})]})})},b=a(17),j=a(30),h=a(31),d=a.n(h),g=a(13),f=a.n(g);var O=function(e){var t=e.imgSrc,a=e.tags,n=e.modalImageURL,c=e.handleImageClick;return Object(u.jsx)("li",{className:f.a.ImageGalleryItem,children:Object(u.jsx)("img",{src:t,alt:a,onClick:function(){return c(a,n)},className:f.a.ImageGalleryItemIMG})})},p=a(32),y=a.n(p);var v=function(e){var t=e.handleBtnClick,a=e.btnVisibility;return Object(u.jsx)("button",{className:y.a.Button,type:"button",onClick:t,style:{visibility:a},children:"Load More"})},x=a(14),I=a.n(x);I.a.defaults.baseURL="https://pixabay.com/api/";var S,_={getImages:function(e,t){return I.a.get('?image_type="photo"&orientation="horizontal"&q='.concat(e,"&page=").concat(t,"&per_page=12&key=").concat("23141283-b767010b5d5526766e0fab830"))}},B=a(33),N=a.n(B),k=a(34).a.div(S||(S=Object(j.a)(["\n  .selector1 {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: rgba(158, 154, 154, 0.7);\n    z-index: 1200;\n  }\n  .selector2 {\n    max-width: calc(100vw - 48px);\n    max-height: calc(100vh - 24px);\n  }\n  .selector3 {\n    margin-top: 150px;\n    font-size: 20px;\n    color: darkblue;\n  }\n"]))),L="idle",w="pending",F="resolved",G="rejected";var C=function(e){var t=e.queryName,a=e.onImageClick,c=e.listHeight,o=e.setListOffsetHeight,s=e.setPageNumber,l=e.page,m=Object(n.useState)([]),j=Object(i.a)(m,2),h=j[0],g=j[1],f=Object(n.useState)(null),p=Object(i.a)(f,2),y=(p[0],p[1]),x=Object(n.useState)(L),I=Object(i.a)(x,2),S=I[0],B=I[1],C=Object(n.useState)("visible"),E=Object(i.a)(C,2),M=E[0],R=E[1];Object(n.useEffect)((function(){if(t){var e=l;B(w),R("visible"),_.getImages(t,e).then((function(t){var a=t.data.hits;a.length<12&&R("hidden"),a.length>0?(g(a),B(F),s(e+=1)):B(G)})).catch((function(e){B(G),y(e)}))}}),[t]),Object(n.useEffect)((function(){h&&window.scrollTo({top:c,behavior:"smooth"})}),[h,c]);var q=function(e,t){a(e,t)};return S===L?Object(u.jsx)("h1",{children:"Please, Enter your query!!!"}):S===F||S===w?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("ul",{className:N.a.ImageGallery,id:"galleryList",children:h.map((function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.tags,c=e.id;return Object(u.jsx)(O,{imgSrc:t,tags:n,modalImageURL:a,handleImageClick:q},c)}))}),S===w?Object(r.createPortal)(Object(u.jsx)(k,{children:Object(u.jsx)("div",{className:"selector1",children:Object(u.jsxs)("div",{className:"selector2",children:[Object(u.jsx)(d.a,{type:"spinner-circle",bgColor:"#3f51b5",title:"",color:"#2a2a2a",size:300}),Object(u.jsxs)("p",{className:"selector3",children:["Loading...",l," page of ",t]})]})})}),document.getElementById("modalRoot")):Object(u.jsx)(v,{handleBtnClick:function(){var e=l;o(),B(w),_.getImages(t,e).then((function(t){var a=t.data.hits;a.length<12&&R("hidden"),g((function(e){return[].concat(Object(b.a)(e),Object(b.a)(a))})),B(F),s(e+=1)})).catch((function(e){B(G),y(e)}))},btnVisibility:M})]}):S===G?Object(u.jsxs)("p",{style:{color:"#0d2de0"},children:[Object(u.jsx)("span",{style:{fontSize:16,textDecorationLine:"line-through",color:"red",display:"block"},children:t}),"hasn't find. Try another query again"]}):void 0},E=a(16),M=a.n(E);function R(e){var t=e.onClose,a=e.altImageName,c=e.imageURL,o=e.resetAppOptions;Object(n.useEffect)((function(){return window.addEventListener("keydown",i),function(){window.removeEventListener("keydown",i)}}));var i=function(e){"Escape"===e.code&&(t(),o())};return Object(r.createPortal)(Object(u.jsx)("div",{className:M.a.Overlay,onClick:function(e){e.currentTarget===e.target&&(t(),o())},children:Object(u.jsx)("div",{className:M.a.Modal,children:Object(u.jsx)("img",{src:c,alt:a})})}),document.getElementById("modalRoot"))}a(107);var q=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),o=Object(i.a)(r,2),s=o[0],l=o[1],b=Object(n.useState)(1),j=Object(i.a)(b,2),h=j[0],d=j[1],g=Object(n.useState)(0),f=Object(i.a)(g,2),O=f[0],p=f[1],y=Object(n.useState)(""),v=Object(i.a)(y,2),x=v[0],I=v[1],S=Object(n.useState)(""),_=Object(i.a)(S,2),B=_[0],N=_[1],k=function(){return l(!s)};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(m,{onSubmit:function(e,t){c(e),d(t),p(0)}}),Object(u.jsx)(C,{queryName:a,onImageClick:function(e,t){I(t),N(e),k()},listHeight:O,setListOffsetHeight:function(){return p(document.getElementById("galleryList").offsetHeight)},setPageNumber:function(e){return d(e)},page:h}),s&&Object(u.jsx)(R,{onClose:k,altImageName:B,imageURL:x,resetAppOptions:function(){return I("")}})]})};o.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(q,{})}),document.getElementById("root"))},13:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2r52B",ImageGalleryItemIMG:"ImageGalleryItem_ImageGalleryItemIMG__1Fw44"}},16:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3b0nI",Modal:"Modal_Modal__2rA-x"}},32:function(e,t,a){e.exports={Button:"Button_Button__3E5AY"}},33:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__26v77"}},42:function(e,t,a){},6:function(e,t,a){e.exports={SearchBar:"SearchBar_SearchBar__oTUrW",SearchForm:"SearchBar_SearchForm__3juK9",SearchFormBtn:"SearchBar_SearchFormBtn__2IXrR",SearchFormBtnLabel:"SearchBar_SearchFormBtnLabel__2luyK",SearchFormInput:"SearchBar_SearchFormInput__toEn1"}}},[[108,1,2]]]);
//# sourceMappingURL=main.f193d18a.chunk.js.map